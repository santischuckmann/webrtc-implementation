import{R as e,D as t,a as n}from"./vendor.ccc6e68e.js";const r=({id:t,videoQuestion:n,handleQuestion:r})=>e.createElement("div",{className:"screenshot"},e.createElement("button",{onClick:()=>r(t)},e.createElement("h2",null,n))),a=({videoQuestion:n,videoUp:r,setIsAVideoUp:a})=>{const[o,l]=t.exports.useState(!1),[i,s]=t.exports.useState(0),c=t.exports.useRef(null),u=t.exports.useRef(null);let d=t.exports.useRef(null),m=t.exports.useRef([0,0,0,0]),p=t.exports.useRef(null);const v={audio:{echoCancellation:!0},video:{width:640,height:300}},E=e=>{console.log("handleDataAvailable: ",e),e.data&&e.data.size>0&&m.current.splice(r.id,1,[e.data])},h=async()=>{var e;await(async()=>{const e=await navigator.mediaDevices.getUserMedia(v);null===c.current?console.log("video current is null"):(c.current.srcObject=e,window.stream=e)})();try{d.current=new MediaRecorder(window.stream)}catch(t){console.error("Error creando MediaRecorder: ",t)}l(!0),null==(e=d.current)||e.start(),f(),console.log("Inicio el video")},g=()=>{d.current.ondataavailable=E,d.current.stop(),l(!1),s(i+1)},f=()=>{setTimeout((()=>{g()}),12e4)};return t.exports.useEffect((()=>{1==o&&f()}),[r.id]),t.exports.useEffect((()=>{var e,t;u.current.pause(),4===i&&(null==(e=p.current)||e.classList.remove("not_showing"),null==(t=p.current)||t.classList.add("showing"))}),[i]),e.createElement("div",{className:"video_container"},e.createElement("h1",null,n),e.createElement("h3",null,"Maximo de dos minutos por video"),e.createElement("h3",null,"Puede reintentar las veces que usted quiera"),e.createElement("video",{className:"main_video",ref:c,autoPlay:!0,playsInline:!0}),e.createElement("video",{className:"recorded_video",ref:u,autoPlay:!0,playsInline:!0,loop:!0}),e.createElement("div",{className:"buttons"},e.createElement("button",{className:"start",onClick:()=>{!1===o?h():g()}},o?"Stop":"Record"),e.createElement("button",{onClick:()=>(()=>{console.log(m.current);let e=new Blob(m.current[r.id],{type:"video/webm;codecs=vp9,opus"});if(null===u.current)throw new Error("video is null");u.current.src=window.URL.createObjectURL(e),u.current.controls=!0,u.current.play()})()},"Reproducir"),e.createElement("button",{className:"Previous",onClick:()=>{0===r.id?a({is:!0,id:3}):a({is:!0,id:r.id-1})}},"AtrÃ¡s"),e.createElement("button",{className:"Next",onClick:()=>{3===r.id?a({is:!0,id:0}):a({is:!0,id:r.id+1}),u.current.pause()}},"Siguiente"),e.createElement("button",{ref:p,className:"not_showing"},"Send")))},o=[{id:0,question:"What got you into web development?"},{id:1,question:"Which was the greatest difficulty you had in a project?"},{id:2,question:"Would you choose studying in a college or learning as a self-taught developer?"},{id:3,question:"How do you see yourself in 5 years regarding programming?"}];function l(){const[n,l]=t.exports.useState({is:!1,id:0}),i=e=>{l({is:!0,id:e})};return e.createElement("div",{className:"App"},e.createElement("h1",null," - System for an online interview process - "),e.createElement("div",{className:"screenshots"},o.map((t=>e.createElement(r,{key:t.id,id:t.id,videoQuestion:t.question,handleQuestion:i})))),e.createElement("div",{className:"videos_container"},n.is&&e.createElement(a,{videoQuestion:o[n.id].question,videoUp:n,setIsAVideoUp:l})),e.createElement("footer",null,e.createElement("h4",null,"Created and designed by Santiago Schuckmann"),e.createElement("ul",null,e.createElement("li",null,e.createElement("a",{href:"https://github.com/santischuckmann"},"Github")),e.createElement("li",null,e.createElement("a",{href:"https://www.linkedin.com/in/santiago-schuckmann-33183620a/"},"LinkedIn")),e.createElement("li",null,e.createElement("a",{href:""},"Email")))))}n.render(e.createElement(e.StrictMode,null,e.createElement(l,null)),document.getElementById("root"));
