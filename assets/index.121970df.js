var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,a=(t,o,r)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[o]=r;import{R as s,D as l,a as c}from"./vendor.ccc6e68e.js";const d=({id:e,videoQuestion:t,handleQuestion:o})=>s.createElement("div",{className:"screenshot"},s.createElement("button",{onClick:()=>o(e)},s.createElement("h2",null,t))),u=({videoQuestion:e,videos:t,videoUp:o,setIsAVideoUp:r,setVideos:n})=>{const[i,a]=l.exports.useState(!1),c=l.exports.useRef(null),d=l.exports.useRef(null);let u=l.exports.useRef(null),m=l.exports.useRef([0,0,0,0]);const p={audio:!1,video:{width:640,height:300}},v=e=>{console.log("handleDataAvailable: ",e),e.data&&e.data.size>0&&m.current.splice(o.id,0,[e.data])},b=async()=>{var e;await(async()=>{const e=await navigator.mediaDevices.getUserMedia(p);null===c.current?console.log("video current is null"):(c.current.srcObject=e,window.stream=e)})();try{u.current=new MediaRecorder(window.stream)}catch(t){console.error("Error creando MediaRecorder: ",t)}a(!0),null==(e=u.current)||e.start(),console.log("Inicio el video")},E=()=>{console.log("clickStart",o.id),!1===i?b():(u.current.ondataavailable=v,u.current.stop(),console.log("Termino el video"),a(!1))};return s.createElement("div",{className:"video_container"},s.createElement("h1",null,e),s.createElement("video",{className:"main_video",ref:c,autoPlay:!0,playsInline:!0}),s.createElement("video",{className:"recorded_video",ref:d,autoPlay:!0,playsInline:!0,loop:!0}),s.createElement("div",{className:"buttons"},s.createElement("button",{className:"start",onClick:()=>E()},i?"parar":"grabar"),s.createElement("button",{onClick:()=>(()=>{console.log(m.current);let e=new Blob(m.current[o.id],{type:"video/webm;codecs=vp9,opus"});null!==d.current?(d.current.src=window.URL.createObjectURL(e),d.current.controls=!0,d.current.play()):console.error("la cagué")})()},"Reproducir"),s.createElement("button",{className:"atras",onClick:()=>{0===o.id?r({is:!0,id:3}):r({is:!0,id:o.id-1}),d.current.pause()}},"Atrás"),s.createElement("button",{className:"siguiente",onClick:()=>{3===o.id?r({is:!0,id:0}):r({is:!0,id:o.id+1}),d.current.pause()}},"Siguiente")))},m=[{id:0,question:"Que te motivo a seguir desarrollo web?"},{id:1,question:"Cual fue la dificultad mas grande que tuviste en un proyecto?"},{id:2,question:"Dirías que es mejor estudiar en una universidad o de manera autodidacta?"},{id:3,question:"Como estás?"}];function p(){const[e,c]=l.exports.useState({video0:{up:!1,completed:!1,time:0},video1:{up:!1,completed:!1,time:0},video2:{up:!1,completed:!1,time:0},video3:{up:!1,completed:!1,time:0}}),[p,v]=l.exports.useState({is:!1,id:0}),b=s=>{var l;c((l=((e,t)=>{for(var o in t||(t={}))n.call(t,o)&&a(e,o,t[o]);if(r)for(var o of r(t))i.call(t,o)&&a(e,o,t[o]);return e})({},e),t(l,o({[`video${s}`]:{up:!0}})))),v({is:!0,id:s})};return s.createElement("div",{className:"App"},s.createElement("h1",null,"Send us your responses!"),s.createElement("div",{className:"screenshots"},m.map((e=>s.createElement(d,{key:e.id,id:e.id,videoQuestion:e.question,handleQuestion:b})))),p.is&&s.createElement(u,{videoQuestion:m[p.id].question,videos:e,videoUp:p,setIsAVideoUp:v,setVideos:c}))}c.render(s.createElement(s.StrictMode,null,s.createElement(p,null)),document.getElementById("root"));
